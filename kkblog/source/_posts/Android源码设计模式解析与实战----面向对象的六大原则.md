---
title: Android源码设计模式解析与实战----面向对象的六大原则
date: 2017-10-25 15:31:14
tags: [软件工程,读书笔记,六大原则]
categories: [软件工程]
---

### 单一职责原则
一个类只负责一个功能（一个职责），如果一个类增加了职责，应该把这个职责分离出去。
如果一个类中承担的职责太多，相当于职责都耦合在了一起，一个职责的变化就可能影响到别的职责。
比如：
* Modem分为链接管理和数据通信两个职责。
* 俄罗斯方块游戏，界面变化和游戏逻辑（方块下落移动等）分为两个职责。
* 图片加载器，ImageLoader和ImageCache分离，一个负责加载，一个负责缓存。

### 开闭原则
对功能扩展是开放的（增加新功能），但对修改原功能代码是关闭的。
也就是说，软件变化时，尽量通过扩展来实现变化，而不是通过修改已经有的代码来实现。
比如图片加载器中，用接口声明ImageCache，实现多个接口以实现不同的Cache，在ImageLoader中set想要的cache就可以了。

### 里氏替换原则
继承时，父类所拥有的性质在子类中仍然要成立，也就是子类的实例能够替换任何父类的实例时，之间才具有is-a关系。
在Android中，Window依赖于View，View又是一个抽象实现，继承于View的子类可以重写onDraw(),onMeasure()等方法，通过里式替换，可以定义各种各样的View，交给Window去组织。


### 依赖倒置原则
* 高层模块不能依赖于低层模块，二者都应该依赖于抽象。
* 抽象不依赖于细节，细节依赖于抽象
高层模块：调用端。包含重要的业务模型的策略选择，是功能和策略。
低层模块：具体实现类。不同业务和策略的实现，是具体实现。
模块间的依赖通过抽象发生，实现类之间不发生直接的依赖关系。依赖关系是通过接口或抽象类产生的。
一句话就是依赖抽象而不依赖实现。

### 接口隔离原则
多个和客户相关的接口要好于一个通用接口。

